//Bunch of math helper functions (sin, cos, tan & tables for quick access)

#include "helpermath.h"

float sin_lookup[] = {0.        ,  0.00999983,  0.01999867,  0.0299955 ,  0.03998933,
        0.04997917,  0.05996401,  0.06994285,  0.07991469,  0.08987855,
        0.09983342,  0.1097783 ,  0.11971221,  0.12963414,  0.13954311,
        0.14943813,  0.15931821,  0.16918235,  0.17902957,  0.18885889,
        0.19866933,  0.2084599 ,  0.21822962,  0.22797752,  0.23770263,
        0.24740396,  0.25708055,  0.26673144,  0.27635565,  0.28595223,
        0.29552021,  0.30505864,  0.31456656,  0.32404303,  0.33348709,
        0.34289781,  0.35227423,  0.36161543,  0.37092047,  0.38018842,
        0.38941834,  0.39860933,  0.40776045,  0.4168708 ,  0.42593947,
        0.43496553,  0.44394811,  0.45288629,  0.46177918,  0.47062589,
        0.47942554,  0.48817725,  0.49688014,  0.50553334,  0.51413599,
        0.52268723,  0.5311862 ,  0.53963205,  0.54802394,  0.55636102,
        0.56464247,  0.57286746,  0.58103516,  0.58914476,  0.59719544,
        0.60518641,  0.61311685,  0.62098599,  0.62879302,  0.63653718,
        0.64421769,  0.65183377,  0.65938467,  0.66686964,  0.67428791,
        0.68163876,  0.68892145,  0.69613524,  0.70327942,  0.71035327,
        0.71735609,  0.72428717,  0.73114583,  0.73793137,  0.74464312,
        0.75128041,  0.75784256,  0.76432894,  0.77073888,  0.77707175,
        0.78332691,  0.78950374,  0.79560162,  0.80161994,  0.8075581 ,
        0.8134155 ,  0.81919157,  0.82488571,  0.83049737,  0.83602598,
        0.84147098,  0.84683184,  0.85210802,  0.85729899,  0.86240423,
        0.86742323,  0.87235548,  0.8772005 ,  0.88195781,  0.88662691,
        0.89120736,  0.89569869,  0.90010044,  0.90441219,  0.9086335 ,
        0.91276394,  0.91680311,  0.9207506 ,  0.92460601,  0.92836897,
        0.93203909,  0.935616  ,  0.93909936,  0.9424888 ,  0.945784  ,
        0.94898462,  0.95209034,  0.95510086,  0.95801586,  0.96083506,
        0.96355819,  0.96618495,  0.9687151 ,  0.97114838,  0.97348454,
        0.97572336,  0.9778646 ,  0.97990806,  0.98185353,  0.98370081,
        0.98544973,  0.9871001 ,  0.98865176,  0.99010456,  0.99145835,
        0.99271299,  0.99386836,  0.99492435,  0.99588084,  0.99673775,
        0.99749499,  0.99815247,  0.99871014,  0.99916795,  0.99952583,
        0.99978376,  0.99994172,  0.99999968,  0.99995765,  0.99981562,
        0.9995736 ,  0.99923163,  0.99878974,  0.99824797,  0.99760638,
        0.99686503,  0.99602399,  0.99508335,  0.9940432 ,  0.99290365,
        0.99166481,  0.9903268 ,  0.98888977,  0.98735384,  0.98571918,
        0.98398595,  0.98215432,  0.98022447,  0.97819661,  0.97607092,
        0.97384763,  0.97152696,  0.96910913,  0.96659439,  0.963983  ,
        0.9612752 ,  0.95847128,  0.95557152,  0.95257619,  0.94948561,
        0.94630009,  0.94301993,  0.93964547,  0.93617705,  0.93261501,
        0.92895972,  0.92521152,  0.92137081,  0.91743796,  0.91341336,
        0.90929743,  0.90509056,  0.90079319,  0.89640574,  0.89192865,
        0.88736237,  0.88270735,  0.87796406,  0.87313298,  0.86821458,
        0.86320937,  0.85811783,  0.85294048,  0.84767784,  0.84233043,
        0.83689879,  0.83138346,  0.82578499,  0.82010395,  0.81434089,
        0.8084964 ,  0.80257107,  0.79656547,  0.79048022,  0.78431593,
        0.7780732 ,  0.77175266,  0.76535495,  0.75888071,  0.75233058,
        0.74570521,  0.73900528,  0.73223144,  0.72538439,  0.71846479,
        0.71147335,  0.70441077,  0.69727774,  0.69007498,  0.68280322,
        0.67546318,  0.66805559,  0.6605812 ,  0.65304075,  0.645435  ,
        0.6377647 ,  0.63003063,  0.62223356,  0.61437426,  0.60645352,
        0.59847214,  0.59043092,  0.58233065,  0.57417215,  0.56595623,
        0.55768372,  0.54935544,  0.54097222,  0.53253491,  0.52404434,
        0.51550137,  0.50690685,  0.49826164,  0.48956661,  0.48082261,
        0.47203054,  0.46319126,  0.45430567,  0.44537464,  0.43639908,
        0.42737988,  0.41831794,  0.40921417,  0.40006948,  0.39088478,
        0.38166099,  0.37239904,  0.36309985,  0.35376435,  0.34439347,
        0.33498815,  0.32554933,  0.31607796,  0.30657499,  0.29704135,
        0.28747801,  0.27788593,  0.26826605,  0.25861935,  0.24894679,
        0.23924933,  0.22952795,  0.21978361,  0.2100173 ,  0.20022998,
        0.19042265,  0.18059627,  0.17075183,  0.16089031,  0.15101271,
        0.14112001,  0.13121319,  0.12129326,  0.11136119,  0.10141799,
        0.09146464,  0.08150215,  0.07153151,  0.06155372,  0.05156977,
        0.04158066,  0.0315874 ,  0.02159098,  0.01159239,  0.00159265,
       -0.00840725, -0.01840631, -0.02840353, -0.0383979 , -0.04838844,
       -0.05837414, -0.06835401, -0.07832703, -0.08829223, -0.09824859,
       -0.10819513, -0.11813086, -0.12805476, -0.13796587, -0.14786317,
       -0.15774569, -0.16761244, -0.17746242, -0.18729466, -0.19710817,
       -0.20690197, -0.21667508, -0.22642652, -0.23615532, -0.2458605 ,
       -0.2555411 , -0.26519615, -0.27482467, -0.28442571, -0.29399831,
       -0.30354151, -0.31305436, -0.3225359 , -0.33198519, -0.34140128,
       -0.35078323, -0.3601301 , -0.36944096, -0.37871487, -0.38795092,
       -0.39714817, -0.4063057 , -0.41542261, -0.42449797, -0.43353088,
       -0.44252044, -0.45146575, -0.46036591, -0.46922004, -0.47802725,
       -0.48678665, -0.49549737, -0.50415855, -0.51276931, -0.52132879,
       -0.52983614, -0.53829051, -0.54669105, -0.55503692, -0.56332728,
       -0.57156132, -0.5797382 , -0.5878571 , -0.59591722, -0.60391775,
       -0.61185789, -0.61973684, -0.62755382, -0.63530805, -0.64299874,
       -0.65062514, -0.65818647, -0.66568199, -0.67311093, -0.68047257,
       -0.68776616, -0.69499097, -0.70214629, -0.70923139, -0.71624557,
       -0.72318812, -0.73005836, -0.73685559, -0.74357914, -0.75022833,
       -0.7568025 , -0.76330098, -0.76972314, -0.77606833, -0.78233591,
       -0.78852525, -0.79463575, -0.80066678, -0.80661775, -0.81248805,
       -0.81827711, -0.82398434, -0.82960917, -0.83515105, -0.8406094 ,
       -0.8459837 , -0.8512734 , -0.85647797, -0.8615969 , -0.86662967,
       -0.87157577, -0.87643472, -0.88120603, -0.88588921, -0.89048381,
       -0.89498936, -0.89940541, -0.90373152, -0.90796726, -0.9121122 ,
       -0.91616594, -0.92012805, -0.92399816, -0.92777586, -0.93146079,
       -0.93505258, -0.93855086, -0.94195528, -0.94526551, -0.94848122,
       -0.95160207, -0.95462777, -0.95755801, -0.96039249, -0.96313093,
       -0.96577306, -0.96831861, -0.97076734, -0.97311898, -0.97537332,
       -0.97753012, -0.97958916, -0.98155025, -0.98341319, -0.98517778,
       -0.98684386, -0.98841125, -0.98987981, -0.99124937, -0.99251981,
       -0.993691  , -0.99476283, -0.99573517, -0.99660795, -0.99738106,
       -0.99805444, -0.99862801, -0.99910172, -0.99947552, -0.99974938,
       -0.99992326, -0.99999715, -0.99997104, -0.99984493, -0.99961884,
       -0.99929279, -0.99886681, -0.99834094, -0.99771525, -0.99698978,
       -0.99616461, -0.99523983, -0.99421552, -0.99309179, -0.99186876,
       -0.99054654, -0.98912526, -0.98760507, -0.98598613, -0.98426858,
       -0.98245261, -0.9805384 , -0.97852613, -0.97641601, -0.97420825,
       -0.97190307, -0.9695007 , -0.96700138, -0.96440536, -0.9617129 ,
       -0.95892427, -0.95603975, -0.95305963, -0.9499842 , -0.94681378,
       -0.94354867, -0.94018921, -0.93673573, -0.93318858, -0.92954811,
       -0.92581468, -0.92198868, -0.91807047, -0.91406047, -0.90995905,
       -0.90576664, -0.90148366, -0.89711052, -0.89264768, -0.88809557,
       -0.88345466, -0.87872539, -0.87390826, -0.86900374, -0.86401232,
       -0.85893449, -0.85377078, -0.84852169, -0.84318774, -0.83776948,
       -0.83226744, -0.82668218, -0.82101425, -0.81526421, -0.80943266,
       -0.80352016, -0.7975273 , -0.7914547 , -0.78530295, -0.77907267,
       -0.77276449, -0.76637903, -0.75991693, -0.75337884, -0.74676541,
       -0.74007731, -0.7333152 , -0.72647976, -0.71957167, -0.71259163,
       -0.70554033, -0.69841847, -0.69122677, -0.68396595, -0.67663674,
       -0.66923986, -0.66177605, -0.65424608, -0.64665067, -0.6389906 ,
       -0.63126664, -0.62347955, -0.61563011, -0.6077191 , -0.59974733,
       -0.59171558, -0.58362466, -0.57547538, -0.56726855, -0.559005  ,
       -0.55068554, -0.54231102, -0.53388227, -0.52540013, -0.51686544,
       -0.50827908, -0.49964188, -0.49095472, -0.48221847, -0.473434  ,
       -0.46460218, -0.4557239 , -0.44680005, -0.43783152, -0.42881921,
       -0.41976402, -0.41066685, -0.40152861, -0.39235022, -0.3831326 ,
       -0.37387666, -0.36458334, -0.35525356, -0.34588825, -0.33648836,
       -0.32705481, -0.31758857, -0.30809056, -0.29856174, -0.28900307,
       -0.2794155 , -0.26979998, -0.26015749, -0.25048898, -0.24079543,
       -0.23107779, -0.22133704, -0.21157417, -0.20179013, -0.19198592,
       -0.1821625 , -0.17232088, -0.16246202, -0.15258691, -0.14269654,
       -0.13279191, -0.122874  , -0.11294379, -0.1030023 , -0.0930505 ,
       -0.0830894 , -0.07311999, -0.06314327, -0.05316024, -0.04317189,
       -0.03317922, -0.02318323, -0.01318493, -0.0031853};


float roundFloat(float i, int place){
	int rounded = round(i * pow(10, place));
	return (float) rounded * pow(10, -place);
}

float calculateSin(float angle){
	if(angle < 0){
		angle += 2 * PI;
	}
	int index = round(angle * 100);
	return sin_lookup[index];
}

float calculateCos(float angle){
	if(angle < 0){
		angle += 2 * PI;
	}
	float sine = calculateSin(angle);
	if(angle > 0.5 * PI && angle < 1.5 * PI){
		return -sqrt(1 - pow(sine, 2));
	}else{
		return sqrt(1 - pow(sine, 2));
	}
}

float calculateTangent(float angle){
	float sine = calculateSin(angle);
	float cosine = calculateCos(angle);

	return sine / cosine;
}